magrabe_formula <- function(spot1, spot2, expiry, int_rate, vol1, vol2, cor) {
sigma <- sqrt(vol1^2+vol2^2-2*cor*vol1*vol2)
d_plus <- (log(spot1/spot2)+sigma^2/2*expiry)/(sigma*sqrt(expiry))
d_minus <- d_plus - sigma*sqrt(expiry)
result <- exp(-int_rate*expiry)*(spot1*pnorm(d_plus)-spot2*pnorm(d_minus))
return(result)
}
S1<-1
S2<-1
T<-3
r<-0.02
sigma1<-0.2
sigma2<-0.2
rho<-0
gen_path<-function(init_val, drift, diffusion, length) {
log_val<-log(init_val)
for(i in 1:steps) {
log_val<-log_val+(drift-diffusion^2/2)*length+diffusion*sqrt(length)*rnorm(1)
}
return(exp(log_val))
}
set.seed(1) #for reproducibility
num_paths<-1000000
payoff<-c()
for(i in 1:num_paths){
terminal_S1<-gen_path(S1, r,sigma1,T)
terminal_S2<-gen_path(S2, r,sigma2,T)
payoff[i]<-max(terminal_S1-terminal_S2,0)
}
option_values<-payoff*exp(-r * T)
mean_val<-mean(option_value)
std_error_val<-sd(option_value)/sqrt(trials)
#Mean
mean_val
#Confidence interval ±
std_error_val*qnorm(0.975)
magrabe_formula(S1,S2,T, r, sigma1, sigma2, rho)
gen_path<-function(init_val, drift, diffusion, length) {
log_val<-log(init_val)+(drift-diffusion^2/2)*length+diffusion*sqrt(length)*rnorm(1)
return(exp(log_val))
}
set.seed(1) #for reproducibility
num_paths<-1000000
payoff<-c()
for(i in 1:num_paths){
terminal_S1<-gen_path(S1, r,sigma1,T)
terminal_S2<-gen_path(S2, r,sigma2,T)
payoff[i]<-max(terminal_S1-terminal_S2,0)
}
option_values<-payoff*exp(-r * T)
mean_val<-mean(option_value)
std_error_val<-sd(option_value)/sqrt(trials)
#Mean
mean_val
#Confidence interval ±
std_error_val*qnorm(0.975)
magrabe_formula(S1,S2,T, r, sigma1, sigma2, rho)
mean_val-std_error_val
cva_dva<-data.table::fread("/Users/mmencke/Documents/GitHub/MasterThesis/DerivedData/Build/Products/Debug/cvaDva.csv",header=F,sep=",")
cva_dva
plot(cva_dva)
hist(cva_dva[,1])
hist(cva_dva$V1)
hist(cva_dva$V1>0)
cva_dva$V1
cva_dva$V1[cva_dva$V1>0]
hist(cva_dva$V1[cva_dva$V1>0])
par(mfrow=c(2,1))
hist(cva_dva$V1[cva_dva$V1>0])
hist(cva_dva$V2[cva_dva$V2>0])
par(mfrow=c(1,2))
hist(cva_dva$V1[cva_dva$V1>0])
hist(cva_dva$V2[cva_dva$V2>0])
max(cva_dva$V2)
max(cva_dva$V1)
sd(cva_dva$V2)
sd(cva_dva$V1)
max(cva_dva$V2)/max(cva_dva$V1)
cva_dva$V2[cva_dva$V2>0]
length(cva_dva$V2[cva_dva$V2>0])
length(cva_dva$V1[cva_dva$V1>0])
which()
which(max(cva_dva$V))
which.max(cva_dva$V1)
which.max(cva_dva$V2)
cva_dva$V2[5422]
hist(cva_dva$V1[cva_dva$V1>0],breaks=100)
hist(cva_dva$V2[cva_dva$V2>0],breaks=100)
3e+06
3e+05
printf(3e+05)
print(3e+05)
sprint(3e+05)
sprintf(3e+05)
cva_dva$V2[cva_dva$V2>0]
(cva_dva$V2[cva_dva$V2>0])[cva_dva$V2[cva_dva$V2>0]<1e+06]
hist((cva_dva$V2[cva_dva$V2>0])[cva_dva$V2[cva_dva$V2>0]<1e+06],breaks=100)
hist(cva_dva$V1[cva_dva$V1>0],breaks=100)
which.max(cva_dva$V2)
max(cva_dva$V2)
which.max(cva_dva$V2)-1
par(mfrow=c(1,2))
hist(cva_dva$V1[cva_dva$V1>0],breaks=100)
hist(cva_dva$V2[cva_dva$V2>0],breaks=100)
cva_vec<-cva_dva$V1
dva_vec<-cva_dva$V2
cva_vec
dva_vec
cva_dva<-data.table::fread("/Users/mmencke/Documents/GitHub/MasterThesis/DerivedData/Build/Products/Debug/cvaDva.csv",header=F,sep=",")
cva_vec<-cva_dva$V1
dva_vec<-cva_dva$V2
x1<-cva_dva$V3
x2<-cva_dva$V4
plot(cva_vec,dva_vec)
x1
x2
plot(x1+x2,cva_vec)
plot(x1+x2,dva_vec)
plot(x1+x2,cva_vec)
plot(x1+x2,cva_vec)
plot(x1+x2,dva_vec)
plot(x1+x2)
hist(x1+x2)
plot(x1+x2,cva_vec)
plot(x1+x2,dva_vec)
plot(x1,x2)
plot(x1+x2,cva_vec)
plot(x1+x2,dva_vec)
plot(x1+x2,cva_vec)
plot(x1+x2,cva_vec)
plot(x1+x2,dva_vec)
plot(x1+x2,dva_vec-cva_vec)
hist(X1+X2)
hist(x1+x2)
seq(-0.1,0.1,0.001)
for(i in 1:202){
print(i*0.001)
}
for(i in 1:202){
print(i*0.001-0.1)
}
for(i in 1:200){
print(i*0.001-0.1)
}
for(i in 0:200){
print(i*0.001-0.1)
}
length(seq(-0.1,0.1,0.001))
swap_npv_shift<-data.table::fread("/Users/mmencke/Documents/GitHub/MasterThesis/DerivedData/Build/Products/Debug/swapNpvShift.csv",header=F,sep=",")
plot(swap_npv_shift)
swap_npv_shift<-load.matrix(folder, "swapNpvShift.csv")
rm(list=ls())
library(ggplot2)
library(extrafont)
library(gridExtra)
library(reshape2)
#Set WD to current location
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
folder<-"CppOutput"
load.matrix<-function(folder_name,file_name) {
file_path<-paste(folder_name,file_name,sep="/")
return(data.table::fread(file_path,header=F,sep=","))
}
#primary colours
cbs.blue=rgb(73,103,170,max=255)
cbs.black=rgb(51,51,51,max=255)
cbs.darkgrey=rgb(112,112,112,max=255)
cbs.background=rgb(247,247,243,max=255)
#secondary colours
cbs.yellow=rgb(253,207,65,max=255)
cbs.orange=rgb(255,150,100,max=255)
cbs.red=rgb(255,102,94,max=255)
cbs.purple=rgb(133,134,198,max=255)
cbs.turquoise=rgb(72,184,231,max=255)
cbs.green=rgb(80,214,145,max=255)
cbs.brown=rgb(210,162,124,max=255)
cbs.lightgrey=rgb(185,194,200,max=255)
theme_cbs <- function(){
theme_minimal() %+replace%    #replace elements we want to change
theme(
panel.background = element_rect(fill = cbs.background,
colour = cbs.lightgrey,
size = 0.5, linetype = "solid"),
panel.grid.major = element_line(size = 0.5, linetype = 'solid',
colour = cbs.lightgrey),
panel.grid.minor = element_line(size = 0.25, linetype = 'solid',
colour = cbs.lightgrey),
text=element_text(size=20, family="Adobe Garamond Pro")
)
}
palette(c(cbs.blue,cbs.yellow,cbs.red,cbs.purple,cbs.turquoise,cbs.green))
correlated_normals<-load.matrix(folder, "correlatedNormals.csv")
sigma1<-0.00970193
kappa1<-0.00549236
T<-30
g2_x1_sd<-sqrt(sigma1^2/(2*kappa1)*(1-exp(-2*kappa1*T)))
g2_x1_sd
g2_x1_sd<-sqrt(sigma1^2/(2*kappa1)*(1-exp(-2*kappa1*T)))
xfit <- seq(-4, 4, length = 10000)
yfit <- dnorm(xfit, mean = 0, sd = g2_x1_sd)
true_density<-data.frame(xfit,yfit)
plot(xfit,true_density)
plot(true_density)
xfit <- seq(-0.1, 0.1, length = 10000)
yfit <- dnorm(xfit, mean = 0, sd = g2_x1_sd)
true_density<-data.frame(xfit,yfit)
plot(true_density)
p_swap_npv_shift<-ggplot(data=swap_npv_shift) +
geom_point(aes(x=V1,y=V2,colour="x1"))+
scale_colour_manual(values=c("x1"=cbs.blue))+
labs(colour="Legend",x="Time", y="Surv. Prob.",title="Bank")+
theme_cbs()
swap_npv_shift<-load.matrix(folder, "swapNpvShift.csv")
p_swap_npv_shift<-ggplot(data=swap_npv_shift) +
geom_point(aes(x=V1,y=V2,colour="x1"))+
scale_colour_manual(values=c("x1"=cbs.blue))+
labs(colour="Legend",x="Time", y="Surv. Prob.",title="Bank")+
theme_cbs()
p_swap_npv_shift
swap_npv_shift<-load.matrix(folder, "swapNpvShift.csv")
p_swap_npv_shift<-ggplot(data=swap_npv_shift) +
geom_point(aes(x=V1,y=V2,colour="x1"))+
labs(colour="Legend",x="Time", y="Surv. Prob.",title="Bank")+
theme_cbs()
p_swap_npv_shift
swap_npv_shift<-load.matrix(folder, "swapNpvShift.csv")
p_swap_npv_shift<-ggplot(data=swap_npv_shift) +
geom_point(aes(x=V1,y=V2,colour=cbs.blue))+
labs(colour="Legend",x="Time", y="Surv. Prob.",title="Bank")+
theme_cbs()
p_swap_npv_shift
swap_npv_shift<-load.matrix(folder, "swapNpvShift.csv")
p_swap_npv_shift<-ggplot(data=swap_npv_shift) +
geom_point(aes(x=V1,y=V2,colour=cbs.blue))+
labs(x="Time", y="NPV",title="Bank")+
theme_cbs()
p_swap_npv_shift
swap_npv_shift<-load.matrix(folder, "swapNpvShift.csv")
p_swap_npv_shift<-ggplot(data=swap_npv_shift) +
geom_point(aes(x=V1,y=V2,colour="x1"))+
scale_colour_manual(values=c("x1"=cbs.blue))+
labs(colour="Legend",x="x1", y="NPV")+
theme_cbs()
p_swap_npv_shift
swap_npv_shift<-load.matrix(folder, "swapNpvShift.csv")
p_swap_npv_shift<-ggplot(data=swap_npv_shift) +
geom_point(aes(x=V1,y=V2,colour=expression(x_1)))+
scale_colour_manual(values=c("x1"=cbs.blue))+
labs(colour="Legend",x="x1", y="NPV")+
theme_cbs()
p_swap_npv_shift
expression(x_1)
bquote(x_1)
swap_npv_shift<-load.matrix(folder, "swapNpvShift.csv")
p_swap_npv_shift<-ggplot(data=swap_npv_shift) +
geom_point(aes(x=V1,y=V2,colour=bquote(x_1)))+
scale_colour_manual(values=c("x1"=cbs.blue))+
labs(colour="Legend",x="x1", y="NPV")+
theme_cbs()
p_swap_npv_shift
swap_npv_shift<-load.matrix(folder, "swapNpvShift.csv")
p_swap_npv_shift<-ggplot(data=swap_npv_shift) +
geom_point(aes(x=V1,y=V2,colour="x_1"))+
scale_colour_manual(values=c("x1"=cbs.blue))+
labs(colour="Legend",x="x1", y="NPV")+
theme_cbs()
p_swap_npv_shift
swap_npv_shift<-load.matrix(folder, "swapNpvShift.csv")
p_swap_npv_shift<-ggplot(data=swap_npv_shift) +
geom_point(aes(x=V1,y=V2,colour="x_1"))+
scale_colour_manual(values=c("x_1"=cbs.blue))+
labs(colour="Legend",x="x1", y="NPV")+
theme_cbs()
p_swap_npv_shift
p_swap_npv_shift
swap_npv_shift<-load.matrix(folder, "swapNpvShift.csv")
p_swap_npv_shift<-ggplot(data=swap_npv_shift) +
geom_point(aes(x=V1,y=V2,colour=expression("x_1")))+
scale_colour_manual(values=c(expression("x_1")=cbs.blue))+
labs(colour="Legend",x=expression("x_1"), y="NPV")+
theme_cbs()
swap_npv_shift<-load.matrix(folder, "swapNpvShift.csv")
p_swap_npv_shift<-ggplot(data=swap_npv_shift) +
geom_point(aes(x=V1,y=V2,colour=expression(x_1)))+
scale_colour_manual(values=c(expression(x_1)=cbs.blue))+
labs(colour="Legend",x=expression(x_1), y="NPV")+
theme_cbs()
swap_npv_shift<-load.matrix(folder, "swapNpvShift.csv")
p_swap_npv_shift<-ggplot(data=swap_npv_shift) +
geom_point(aes(x=V1,y=V2,colour=x_1))+
scale_colour_manual(values=c(x_1=cbs.blue))+
labs(colour="Legend",x=expression(x_1), y="NPV")+
theme_cbs()
p_swap_npv_shift
swap_npv_shift<-load.matrix(folder, "swapNpvShift.csv")
p_swap_npv_shift<-ggplot(data=swap_npv_shift) +
geom_point(aes(x=V1,y=V2,colour=x_1))+
scale_colour_manual(values=c(x_1=cbs.blue))+
labs(colour="Legend",x=expression("x_1"), y="NPV")+
theme_cbs()
p_swap_npv_shift
swap_npv_shift<-load.matrix(folder, "swapNpvShift.csv")
p_swap_npv_shift<-ggplot(data=swap_npv_shift) +
geom_point(aes(x=V1,y=V2,colour="x_1"))+
scale_colour_manual(values=c("x_1"=cbs.blue))+
labs(colour="Legend",x=expression("x_1"), y="NPV")+
theme_cbs()
p_swap_npv_shift
swap_npv_shift<-load.matrix(folder, "swapNpvShift.csv")
p_swap_npv_shift<-ggplot(data=swap_npv_shift) +
geom_point(aes(x=V1,y=V2,colour="x_1"))+
scale_colour_manual(values=c("x_1"=cbs.blue))+
labs(colour="Legend",x=expression(x_1), y="NPV")+
theme_cbs()
p_swap_npv_shift
swap_npv_shift<-load.matrix(folder, "swapNpvShift.csv")
p_swap_npv_shift<-ggplot(data=swap_npv_shift) +
geom_point(aes(x=V1,y=V2,colour="x_1"))+
scale_colour_manual(values=c("x_1"=cbs.blue))+
labs(colour="Legend", y="NPV")+
xlab(expression(x_1))
p_swap_npv_shift
swap_npv_shift<-load.matrix(folder, "swapNpvShift.csv")
p_swap_npv_shift<-ggplot(data=swap_npv_shift) +
geom_point(aes(x=V1,y=V2,colour="x_1"))+
scale_colour_manual(values=c("x_1"=cbs.blue))+
labs(colour="Legend", y="NPV")+
xlab(expression(x_1))+
theme_cbs()
p_swap_npv_shift
swap_npv_shift<-load.matrix(folder, "swapNpvShift.csv")
p_swap_npv_shift<-ggplot(data=swap_npv_shift) +
geom_point(aes(x=V1,y=V2,colour="x_1"))+
scale_colour_manual(values=c("x_1"=cbs.blue))+
labs(colour="Legend", y="NPV")+
xlab(expression("x_1"))+
theme_cbs()
p_swap_npv_shift
swap_npv_shift<-load.matrix(folder, "swapNpvShift.csv")
p_swap_npv_shift<-ggplot(data=swap_npv_shift) +
geom_point(aes(x=V1,y=V2,colour="x_1"))+
scale_colour_manual(values=c("x_1"=cbs.blue))+
labs(colour="Legend", y="NPV")+
xlab(expression("x^1"))+
theme_cbs()
p_swap_npv_shift
swap_npv_shift<-load.matrix(folder, "swapNpvShift.csv")
p_swap_npv_shift<-ggplot(data=swap_npv_shift) +
geom_point(aes(x=V1,y=V2,colour="x_1"))+
scale_colour_manual(values=c("x_1"=cbs.blue))+
labs(colour="Legend", y="NPV")+
xlab(expression(x^1))+
theme_cbs()
p_swap_npv_shift
p_swap_npv_shift<-ggplot(data=swap_npv_shift) +
geom_point(aes(x=V1,y=V2,colour="x_1"))+
scale_colour_manual(values=c("x_1"=cbs.blue))+
labs(colour="Legend", y="NPV")+
xlab(expression(x[1]))+
theme_cbs()
p_swap_npv_shift
swap_npv_shift<-load.matrix(folder, "swapNpvShift.csv")
p_swap_npv_shift<-ggplot(data=swap_npv_shift) +
geom_point(aes(x=V1,y=V2,colour="x_1"),show.legend = F)+
scale_colour_manual(values=c("x_1"=cbs.blue))+
labs(colour="Legend", x=expression(x[1]),,y="NPV")+
theme_cbs()
p_swap_npv_shift
swap_npv_shift<-load.matrix(folder, "swapNpvShift.csv")
p_swap_npv_shift<-ggplot(data=swap_npv_shift) +
geom_point(aes(x=V1,y=V2,colour="x_1",show.legend = F))+
scale_colour_manual(values=c("x_1"=cbs.blue))+
labs(colour="Legend", x=expression(x[1]),,y="NPV")+
theme_cbs()
p_swap_npv_shift
swap_npv_shift<-load.matrix(folder, "swapNpvShift.csv")
p_swap_npv_shift<-ggplot(data=swap_npv_shift) +
geom_point(aes(x=V1,y=V2,colour="x_1"),show.legend = FALSE)+
scale_colour_manual(values=c("x_1"=cbs.blue))+
labs(colour="Legend", x=expression(x[1]),,y="NPV")+
theme_cbs()
swap_npv_shift<-load.matrix(folder, "swapNpvShift.csv")
p_swap_npv_shift<-ggplot(data=swap_npv_shift,show.legend = FALSE) +
geom_point(aes(x=V1,y=V2,colour="x_1"))+
scale_colour_manual(values=c("x_1"=cbs.blue))+
labs(colour="Legend", x=expression(x[1]),,y="NPV")+
theme_cbs()
swap_npv_shift<-load.matrix(folder, "swapNpvShift.csv")
p_swap_npv_shift<-ggplot(data=swap_npv_shift) +
geom_point(aes(x=V1,y=V2,colour=expression(x[1])))+
scale_colour_manual(values=c(expression(x[1])=cbs.blue))+
labs(colour="Legend", x=expression(x[1]),,y="NPV")+
theme_cbs()
p_swap_npv_shift
swap_npv_shift<-load.matrix(folder, "swapNpvShift.csv")
p_swap_npv_shift<-ggplot(data=swap_npv_shift) +
geom_point(aes(x=V1,y=V2,colour="x_1"))+
scale_colour_manual(values=c("x_1"=cbs.blue))+
labs(colour="Legend", x=expression(x[1]),y="NPV")+
theme_cbs()
p_swap_npv_shift
swap_npv_shift<-load.matrix(folder, "swapNpvShift.csv")
p_swap_npv_shift<-ggplot(data=swap_npv_shift) +
geom_point(aes(x=V1,y=V2,colour="x_1"),show.legend = F)+
scale_colour_manual(values=c("x_1"=cbs.blue))+
labs(colour="Legend", x=expression(x[1]),y="NPV")+
theme_cbs()
p_swap_npv_shift
p_x1_density<-ggplot(data=true_density) +
geom_point(aes(x=V1,y=V2,colour="x_1"),show.legend = F)+
scale_colour_manual(values=c("x_1"=cbs.blue))+
labs(colour="Legend", x=expression(x[1]),y="Density")+
theme_cbs()
p_x1_density
p_x1_density<-ggplot(data=true_density) +
geom_point(aes(x=xfit,y=yfit,colour="x_1"),show.legend = F)+
scale_colour_manual(values=c("x_1"=cbs.blue))+
labs(colour="Legend", x=expression(x[1]),y="Density")+
theme_cbs()
p_x1_density
ggsave("ROutput/swap-npv-shift.pdf", arrangeGrob(p_x1_density, p_swap_npv_shift,nrow=1),width=16, height = 9)
embed_fonts("ROutput/swap-npv-shift.pdf")
p_swap_npv_shift<-ggplot(data=swap_npv_shift) +
geom_point(aes(x=V1,y=V2,colour="x_1"),show.legend = F)+
scale_colour_manual(values=c("x_1"=cbs.blue))+
labs(colour="Legend", x=expression(italic(x[1])),y="NPV")+
theme_cbs()
p_swap_npv_shift
swap_npv_shift<-load.matrix(folder, "swapNpvShift.csv")
p_swap_npv_shift<-ggplot(data=swap_npv_shift) +
geom_point(aes(x=V1,y=V2,colour="x_1"),show.legend = F)+
scale_colour_manual(values=c("x_1"=cbs.blue))+
labs(colour="Legend", x=expression(x[1]),y="NPV")+
theme_cbs()
p_swap_npv_shift
swap_npv_shift<-load.matrix(folder, "swapNpvShift.csv")
p_swap_npv_shift<-ggplot(data=swap_npv_shift) +
geom_point(aes(x=V1,y=V2,colour="x_1"),show.legend = F,log="y")+
scale_colour_manual(values=c("x_1"=cbs.blue))+
labs(colour="Legend", x=expression(x[1]),y="NPV")+
theme_cbs()
swap_npv_shift<-load.matrix(folder, "swapNpvShift.csv")
p_swap_npv_shift<-ggplot(data=swap_npv_shift,log="y") +
geom_point(aes(x=V1,y=V2,colour="x_1"),show.legend = F)+
scale_colour_manual(values=c("x_1"=cbs.blue))+
labs(colour="Legend", x=expression(x[1]),y="NPV")+
theme_cbs()
p_swap_npv_shift
p_swap_npv_shift<-ggplot(data=swap_npv_shift,log="y") +
geom_point(aes(x=V1,y=V2,colour="x_1"),show.legend = F)+
scale_colour_manual(values=c("x_1"=cbs.blue))+
labs(colour="Legend", x=expression(x[1]),y="NPV")+
theme_cbs()
p_swap_npv_shift
p_swap_npv_shift<-ggplot(data=swap_npv_shift) +
geom_point(aes(x=V1,y=V2,colour="x_1"),show.legend = F)+
scale_colour_manual(values=c("x_1"=cbs.blue))+
labs(colour="Legend", x=expression(x[1]),y="NPV")+
theme_cbs()
p_swap_npv_shift
exmp_swaps<-load.matrix(folder, "exmpSwaps.csv")
exmp_swaps_output<-data.frame(matrix(NA,nrow=dim(exmp_swaps)[1],ncol=dim(exmp_swaps)[2]))
for(i in 1:dim(exmp_swaps)[1]) {
exmp_swaps_output$X1[i]<-exmp_swaps$V1[i]
exmp_swaps_output$X2[i]<-format(round(exmp_swaps$V2[i]),big.mark = ",")
exmp_swaps_output$X3[i]<-format(round(exmp_swaps$V3[i]),big.mark = ",")
exmp_swaps_output$X4[i]<-format(round(exmp_swaps$V4[i]),big.mark = ",")
exmp_swaps_output$X5[i]<-format(round(exmp_swaps$V5[i]),big.mark = ",")
exmp_swaps_output$X6[i]<-format(round(exmp_swaps$V6[i]),big.mark = ",")
exmp_swaps_output$X7[i]<-format(round(exmp_swaps$V7[i]),big.mark = ",")
}
write.table(exmp_swaps_output, file="ROutput/exmp-swaps-output.csv",
quote=F, sep=";", col.names = F,row.names = F)
cva_dva_ind<-load.matrix(folder, "cvaDvaInd.csv")
cva_dva_ind_output<-data.frame(matrix(NA,nrow=6,ncol=7))
for(i in 1:dim(cva_dva_ind)[1]) {
cva_dva_ind_output$X1[i]<-cva_dva_ind$V1[i]
cva_dva_ind_output$X2[i]<-paste0(format(round(cva_dva_ind$V2[i]),big.mark = ",")," (", format(round(cva_dva_ind$V3[i]),big.mark=","),")")
cva_dva_ind_output$X3[i]<-paste0(format(round(cva_dva_ind$V4[i]),big.mark=",")," (", format(round(cva_dva_ind$V5[i]),big.mark=","),")")
cva_dva_ind_output$X4[i]<-paste0(format(round(cva_dva_ind$V6[i]),big.mark=",")," (", format(round(cva_dva_ind$V7[i]),big.mark=","),")")
cva_dva_ind_output$X5[i]<-paste0(format(round(cva_dva_ind$V8[i]),big.mark=",")," (", format(round(cva_dva_ind$V9[i]),big.mark=","),")")
cva_dva_ind_output$X6[i]<-paste0(format(round(cva_dva_ind$V10[i]),big.mark=",")," (", format(round(cva_dva_ind$V11[i]),big.mark=","),")")
cva_dva_ind_output$X7[i]<-paste0(format(round(cva_dva_ind$V12[i]),big.mark=",")," (", format(round(cva_dva_ind$V13[i]),big.mark=","),")")
}
write.table(cva_dva_ind_output, file="ROutput/cva-dva-ind-output.csv",
quote=F, sep=";", col.names = F,row.names = F)
cva_dva_wwr<-load.matrix(folder, "cvaDvaWwr.csv")
cva_dva_wwr_output<-data.frame(matrix(NA,nrow=6,ncol=7))
for(i in 1:dim(cva_dva_wwr)[1]) {
cva_dva_wwr_output$X1[i]<-cva_dva_wwr$V1[i]
cva_dva_wwr_output$X2[i]<-paste0(format(round(cva_dva_wwr$V2[i]),big.mark = ",")," (", format(round(cva_dva_wwr$V3[i]),big.mark=","),")")
cva_dva_wwr_output$X3[i]<-paste0(format(round(cva_dva_wwr$V4[i]),big.mark=",")," (", format(round(cva_dva_wwr$V5[i]),big.mark=","),")")
cva_dva_wwr_output$X4[i]<-paste0(format(round(cva_dva_wwr$V6[i]),big.mark=",")," (", format(round(cva_dva_wwr$V7[i]),big.mark=","),")")
cva_dva_wwr_output$X5[i]<-paste0(format(round(cva_dva_wwr$V8[i]),big.mark=",")," (", format(round(cva_dva_wwr$V9[i]),big.mark=","),")")
cva_dva_wwr_output$X6[i]<-paste0(format(round(cva_dva_wwr$V10[i]),big.mark=",")," (", format(round(cva_dva_wwr$V11[i]),big.mark=","),")")
cva_dva_wwr_output$X7[i]<-paste0(format(round(cva_dva_wwr$V12[i]),big.mark=",")," (", format(round(cva_dva_wwr$V13[i]),big.mark=","),")")
}
write.table(cva_dva_wwr_output, file="ROutput/cva-dva-wwr-output.csv",
quote=F, sep=";", col.names = F,row.names = F)
cva_dva_rwr<-load.matrix(folder, "cvaDvaRwr.csv")
cva_dva_rwr_output<-data.frame(matrix(NA,nrow=6,ncol=7))
for(i in 1:dim(cva_dva_rwr)[1]) {
cva_dva_rwr_output$X1[i]<-cva_dva_rwr$V1[i]
cva_dva_rwr_output$X2[i]<-paste0(format(round(cva_dva_rwr$V2[i]),big.mark = ",")," (", format(round(cva_dva_rwr$V3[i]),big.mark=","),")")
cva_dva_rwr_output$X3[i]<-paste0(format(round(cva_dva_rwr$V4[i]),big.mark=",")," (", format(round(cva_dva_rwr$V5[i]),big.mark=","),")")
cva_dva_rwr_output$X4[i]<-paste0(format(round(cva_dva_rwr$V6[i]),big.mark=",")," (", format(round(cva_dva_rwr$V7[i]),big.mark=","),")")
cva_dva_rwr_output$X5[i]<-paste0(format(round(cva_dva_rwr$V8[i]),big.mark=",")," (", format(round(cva_dva_rwr$V9[i]),big.mark=","),")")
cva_dva_rwr_output$X6[i]<-paste0(format(round(cva_dva_rwr$V10[i]),big.mark=",")," (", format(round(cva_dva_rwr$V11[i]),big.mark=","),")")
cva_dva_rwr_output$X7[i]<-paste0(format(round(cva_dva_rwr$V12[i]),big.mark=",")," (", format(round(cva_dva_rwr$V13[i]),big.mark=","),")")
}
write.table(cva_dva_rwr_output, file="ROutput/cva-dva-rwr-output.csv",
quote=F, sep=";", col.names = F,row.names = F)
